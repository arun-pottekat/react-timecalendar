(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var s=a(4),i=a(5),n=a(7),r=a(6),l=a(8),o=a(3),c=a(1),d=a.n(c),m=a(66),u=a.n(m),h=a(2),p=a.n(h),b={selectedDate:new Date,prevMonth:null,nextMonth:null};function f(e){return d.a.createElement("div",{className:"header row flex-middle"},d.a.createElement("div",{className:"col col-start"},d.a.createElement("div",{className:"icon",onClick:e.prevMonth},"chevron_left")),d.a.createElement("div",{className:"col col-center"},d.a.createElement("span",null,e.selectedDate)),d.a.createElement("div",{className:"col col-end",onClick:e.nextMonth},d.a.createElement("div",{className:"icon"},"chevron_right")))}f.defaultProps=b;var k=f,v=a(67),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={dateFormat:"ddd"},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({dateFormat:this.refs.dayTitles.parentNode.clientWidth>767?"dddd":"ddd"})}},{key:"render",value:function(){var e=this,t=[],a=p.a.startOfWeek(this.props.currentMonth);return Object(v.a)(Array(7)).map(function(s,i){return t.push(d.a.createElement("div",{className:"col col-center",key:i},p.a.format(p.a.addDays(a,i),e.state.dateFormat)))}),d.a.createElement("div",{className:"days row",ref:"dayTitles"},t)}}]),t}(d.a.Component);T.defaultProps={currentMonth:null};function D(e){return d.a.createElement("div",{className:"col cell"+e.classSet,onClick:e.onDateClick},d.a.createElement("span",{className:"number"},e.date),d.a.createElement("span",{className:"bg"},e.date))}D.defaultProps={classSet:"",date:1,onDateClick:null};var O=D,y=function(e){function t(){return Object(s.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.selectedDate,a=p.a.startOfMonth(t),s=p.a.startOfWeek(a),i=p.a.endOfWeek(p.a.endOfMonth(a)),n=[],r=[],l=s;l<=i;){for(var o=function(a){var s="";s+=" "+p.a.format(l,"ddd"),s+=p.a.isToday(l)?" today":"",s+=p.a.isSameMonth(l,t)?"":" disabled",s+=p.a.isSameDay(l,t)?" selected":"",s+=e.props.clickable?"":" disabled",s+=p.a.isWithinRange(l,e.props.startTime,e.props.endTime)?" selected":"",e.props.disableHistory&&(s+=p.a.isBefore(l,p.a.endOfYesterday())?" disabled":"");var i=l;r.push(d.a.createElement(O,{classSet:s,key:l,date:p.a.format(l,"D"),onDateClick:function(){return e.props.onDateClick(i)}})),l=p.a.addDays(l,1)},c=0;c<7;c++)o();n.push(d.a.createElement("div",{className:"row",key:l},r)),r=[]}return d.a.createElement("div",{className:"body"},d.a.createElement(T,{currentMonth:this.props.selectedDate}),n)}}]),t}(c.PureComponent);y.defaultProps={selectedDate:null,onDateClick:null,clickable:!0,bookings:[]};function C(e){return d.a.createElement("div",{className:"col cell"+e.classSet,onClick:e.onTimeClick},d.a.createElement("p",null,e.time))}C.defaultProps={classSet:"",time:-18,onTimeClick:null};var S=C,j={selectedDate:new Date,timeSlot:30,onTimeClick:null,bookings:["05-10-19","02-04-19"]},E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={selectorClass:"inactive"},a.selectorClick=a.selectorClick.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"selectorClick",value:function(){this.setState({selectorClass:"inactive"===this.state.selectorClass?"active":"inactive"})}},{key:"render",value:function(){var e=this,t=this.props.openHours,a=this.props.timeSlot,s=p.a.startOfDay(this.props.selectedDate),i=parseInt(p.a.format(this.props.selectedDate,"d")),n=s,r=p.a.endOfDay(s);1===t.length?(n=p.a.addHours(s,t[0][0]),r=p.a.addHours(s,t[0][1])):2===t.length?0===i||6===i?(n=p.a.addHours(s,t[1][0]),r=p.a.addHours(s,t[1][1])):(n=p.a.addHours(s,t[0][0]),r=p.a.addHours(s,t[0][1])):7===t.length&&(n=p.a.addHours(s,t[i][0]),r=p.a.addHours(s,t[i][1]));for(var l=[],o=n,c=[],m=p.a.differenceInMinutes(r,n)/a%4;o<p.a.addMinutes(r,a*m);){for(var u=function(t){var a="";a+=p.a.isBefore(o,r)?"":" disabled",a+=p.a.isWithinRange(o,e.props.startTime,e.props.endTime)?" selectedTime":"",e.props.disableHistory&&(a+=p.a.isBefore(o,new Date)?" disabled":""),e.props.bookings.map(function(e){return a+=p.a.isWithinRange(o,e.start_time,p.a.subMinutes(e.end_time,1))?" disabled":""});var s=o;c.push(d.a.createElement(S,{key:s,time:p.a.format(s,"HH-mm"),classSet:a,onTimeClick:function(){return e.props.onTimeClick(s)}})),o=p.a.addMinutes(o,30)},h=0;h<4;h++)u();l.push(d.a.createElement("div",{className:"row",key:o},c)),c=[]}return d.a.createElement("div",{className:"timeSelector"},d.a.createElement("div",{className:"optionSpacer body"},d.a.createElement("div",{className:"optionHolder "+this.state.selectorClass},l)))}}]),t}(c.PureComponent);E.defaultProps=j;a(176);var g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={selectedDate:new Date,timeSelect:!1},a.onDateClick=a.onDateClick.bind(Object(o.a)(Object(o.a)(a))),a.nextMonth=a.nextMonth.bind(Object(o.a)(Object(o.a)(a))),a.prevMonth=a.prevMonth.bind(Object(o.a)(Object(o.a)(a))),a.timeSelectToggle=a.timeSelectToggle.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onDateClick",value:function(e){this.setState({selectedDate:e}),this.props.onDateFunction&&this.props.onDateFunction(e)}},{key:"nextMonth",value:function(){this.setState({selectedDate:p.a.addMonths(this.state.selectedDate,1)})}},{key:"prevMonth",value:function(){this.props.disableHistory&&p.a.isPast(p.a.startOfMonth(this.state.selectedDate))||this.setState({selectedDate:p.a.subMonths(this.state.selectedDate,1)})}},{key:"timeSelectToggle",value:function(){this.setState({timeSelect:!this.state.timeSelect})}},{key:"render",value:function(){return d.a.createElement("div",{className:"calendar"},d.a.createElement(k,{selectedDate:p.a.format(this.state.selectedDate,"MMMM YYYY"),nextMonth:this.nextMonth,prevMonth:this.prevMonth}),this.state.timeSelect?d.a.createElement(d.a.Fragment,null,d.a.createElement(E,{selectedDate:this.state.selectedDate,disableHistory:this.props.disableHistory,timeSlot:this.props.timeSlot,openHours:this.props.openHours,onTimeClick:this.props.onTimeClick,bookings:this.props.bookings,startTime:this.props.startTime,endTime:this.props.endTime})):d.a.createElement(d.a.Fragment,null,d.a.createElement(y,{selectedDate:this.state.selectedDate,disableHistory:this.props.disableHistory,onDateClick:this.onDateClick,clickable:this.props.clickable,bookings:this.props.bookings,startTime:this.props.startTime,endTime:this.props.endTime})),this.props.timeSlot&&this.props.openHours?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"timeSelector"},d.a.createElement("p",{onClick:this.timeSelectToggle},this.state.timeSelect?"Select Day":"Select Time"," "))):"")}}]),t}(c.PureComponent);g.defaultProps={bookings:[],disableHistory:!0,clickable:!0,timeSlot:30,onDateFunction:null,onTimeClick:null};var M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={startTime:"",endTime:"",bookings:[{id:1,start_time:"2019-03-27 13:00:00",end_time:"2019-03-27 13:30:00"},{id:2,start_time:"2019-03-27 07:00:00",end_time:"2019-03-27 07:30:00"}]},a.handleTimeClick=a.handleTimeClick.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"handleTimeClick",value:function(e){var t=this;""===this.state.startTime?this.setState({startTime:e}):(!p.a.isSameDay(this.state.startTime,e)||e<this.state.startTime)&&this.setState({startTime:"",endTime:""});var a=!1;e>this.state.startTime&&this.state.bookings.map(function(s){return p.a.isWithinRange(s.start_time,t.state.startTime,e)||p.a.isWithinRange(p.a.subMinutes(s.end_time,1),t.state.startTime,e)?a=!0:""}),a||this.setState({endTime:e})}},{key:"render",value:function(){var e=window.innerWidth>1023?{width:"40%"}:{width:"100%"};return d.a.createElement("div",{style:e},d.a.createElement(g,{disableHistory:!0,clickable:!0,timeSlot:30,startTime:this.state.startTime,endTime:this.state.endTime,openHours:[[9.5,15],[9,23.5],[8,16],[8.5,18],[10,10],[0,0],[9,17]],onTimeClick:this.handleTimeClick,bookings:this.state.bookings}))}}]),t}(d.a.Component);t.default=M;u.a.render(d.a.createElement(M,null),document.getElementById("root"))},68:function(e,t,a){e.exports=a(177)}},[[68,1,2]]]);
//# sourceMappingURL=main.c477b01d.chunk.js.map
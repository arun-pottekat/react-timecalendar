(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a(5),s=a(7),l=a(6),r=a(8),c=a(3),o=a(2),d=a.n(o),m=a(66),u=a.n(m),b=a(1),h=a.n(b),v={selectedDate:new Date,prevTime:null,nextTime:null};function f(e){var t=e.prevTime,a=e.selectedDate,n=e.nextTime;return d.a.createElement("div",{className:"header row flex-middle"},d.a.createElement("div",{className:"col col-start"},d.a.createElement("div",{className:"icon",onClick:t,onKeyDown:t,tabIndex:"0",role:"button"},"chevron_left")),d.a.createElement("div",{className:"col col-center"},d.a.createElement("span",null,a)),d.a.createElement("div",{className:"col col-end",onClick:n,onKeyDown:n,tabIndex:"0",role:"button"},d.a.createElement("div",{className:"icon"},"chevron_right")))}f.defaultProps=v;var p=f,k=a(67),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={dateFormat:"ddd"},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({dateFormat:this.dayTitles.parentNode.clientWidth>500?"dddd":"ddd"})}},{key:"render",value:function(){var e=this,t=this.props.currentMonth,a=this.state.dateFormat,n=[],i=h.a.startOfWeek(t);return Object(k.a)(Array(7)).map(function(e,t){return n.push(d.a.createElement("div",{className:"col col-center",key:e},h.a.format(h.a.addDays(i,t),a)))}),d.a.createElement("div",{className:"days row",ref:function(t){e.dayTitles=t}},n)}}]),t}(d.a.Component);T.defaultProps={currentMonth:null};function y(e){var t=e.classSet,a=e.onDateClick,n=e.date;return d.a.createElement("div",{className:"col cell".concat(t),role:"gridcell",tabIndex:"0",onClick:a,onKeyDown:a},d.a.createElement("span",{className:"number"},n),d.a.createElement("span",{className:"bg"},n))}y.defaultProps={classSet:"",date:1,onDateClick:null};var O=y,D=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"generateClasses",value:function(e){var t=this.props,a=t.selectedDate,n=t.clickable,i=t.startTime,s=t.endTime,l=t.disableHistory,r="";return r+=" ".concat(h.a.format(e,"ddd")),r+=h.a.isToday(e)?" today":"",r+=h.a.isSameMonth(e,a)?"":" disabled",r+=h.a.isSameDay(e,a)?" selected":"",r+=n?"":" disabled",r+=h.a.isWithinRange(e,i,s)?" selected":"",l&&(r+=h.a.isBefore(e,h.a.endOfYesterday())?" disabled":""),r}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.selectedDate,n=t.onDateClick,i=h.a.endOfWeek(h.a.endOfMonth(h.a.startOfMonth(a))),s=[],l=[],r=h.a.startOfWeek(h.a.startOfMonth(a));r<=i;){for(var c=function(t){var a=e.generateClasses(r),i=r;l.push(d.a.createElement(O,{classSet:a,key:r,date:h.a.format(r,"D"),onDateClick:function(){return n(i)}})),r=h.a.addDays(r,1)},o=0;o<7;o+=1)c();s.push(d.a.createElement("div",{className:"row",key:r},l)),l=[]}return d.a.createElement("div",{className:"body"},d.a.createElement(T,{currentMonth:a}),s)}}]),t}(o.PureComponent);D.defaultProps={selectedDate:null,onDateClick:null,clickable:!0,disableHistory:!0,startTime:null,endTime:null};function C(e){var t=e.classSet,a=e.onTimeClick,n=e.time;return d.a.createElement("div",{className:"col cell ".concat(t),onClick:a,onKeyDown:a,role:"button",tabIndex:"0"},d.a.createElement("p",null,n))}C.defaultProps={classSet:"",time:"12 - 30",onTimeClick:null};var j=C,S={disableHistory:!0,selectedDate:new Date,timeSlot:30,onTimeClick:null,startTime:null,endTime:null,bookings:["05-10-19","02-04-19"],openHours:[[9.5,15],[9,23.5]]},g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={selectorClass:"inactive"},a.selectorClick=a.selectorClick.bind(Object(c.a)(Object(c.a)(a))),a.generateOpenHours=a.generateOpenHours.bind(Object(c.a)(Object(c.a)(a))),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"selectorClick",value:function(){var e=this.state.selectorClass;this.setState({selectorClass:"inactive"===e?"active":"inactive"})}},{key:"generateOpenHours",value:function(){var e=[],t=this.props,a=t.openHours,n=t.selectedDate,i=h.a.startOfDay(n),s=parseInt(h.a.format(n,"d"),10);return 1===a.length?(e[0]=h.a.addHours(i,a[0][0]),e[1]=h.a.addHours(i,a[0][1])):2===a.length?0===s||6===s?(e[0]=h.a.addHours(i,a[1][0]),e[1]=h.a.addHours(i,a[1][1])):(e[0]=h.a.addHours(i,a[0][0]),e[1]=h.a.addHours(i,a[0][1])):7===a.length&&(e[0]=h.a.addHours(i,a[s][0]),e[1]=h.a.addHours(i,a[s][1])),e}},{key:"render",value:function(){for(var e=this.props,t=e.timeSlot,a=e.startTime,n=e.endTime,i=e.bookings,s=e.disableHistory,l=e.onTimeClick,r=this.state.selectorClass,c=this.generateOpenHours(),o=[],m=[],u=c[0],b=h.a.differenceInMinutes(c[1],c[0])/t%4;u<h.a.addMinutes(c[1],t*b);){for(var v=function(e){var t=void 0;t+=h.a.isBefore(u,c[1])?"":" disabled",t+=h.a.isWithinRange(u,a,n)?" selectedTime":"",s&&(t+=h.a.isBefore(u,new Date)?" disabled":"");for(var r=0;r<i.length;r+=1)t+=h.a.isWithinRange(u,i[r].start_time,h.a.subMinutes(i[r].end_time,1))?" disabled":"";var o=u;m.push(d.a.createElement(j,{key:o,time:h.a.format(o,"HH-mm"),classSet:t,onTimeClick:function(){return l(o)}})),u=h.a.addMinutes(u,30)},f=0;f<4;f+=1)v();o.push(d.a.createElement("div",{className:"row",key:u},m)),m=[]}return d.a.createElement("div",{className:"timeSelector"},d.a.createElement("div",{className:"optionSpacer body"},d.a.createElement("div",{className:"optionHolder ".concat(r)},o)))}}]),t}(o.PureComponent);g.defaultProps=S;a(176);var E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={selectedDate:new Date,timeSelect:!1},a.onDateClick=a.onDateClick.bind(Object(c.a)(Object(c.a)(a))),a.nextTime=a.nextTime.bind(Object(c.a)(Object(c.a)(a))),a.prevTime=a.prevTime.bind(Object(c.a)(Object(c.a)(a))),a.timeSelectToggle=a.timeSelectToggle.bind(Object(c.a)(Object(c.a)(a))),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"onDateClick",value:function(e){var t=this.props.onDateFunction;this.setState({selectedDate:e}),t&&t(e)}},{key:"nextTime",value:function(){var e=this.state,t=e.selectedDate,a=e.timeSelect;this.setState({selectedDate:a?h.a.addDays(t,1):h.a.addMonths(t,1)})}},{key:"prevTime",value:function(){var e=this.state,t=e.selectedDate,a=e.timeSelect;this.props.disableHistory&&h.a.isPast(h.a.startOfMonth(t))&&!a||h.a.isPast(h.a.startOfDay(t))&&a||this.setState({selectedDate:a?h.a.subDays(t,1):h.a.subMonths(t,1)})}},{key:"timeSelectToggle",value:function(){var e=this.state.timeSelect;this.setState({timeSelect:!e})}},{key:"render",value:function(){var e=this.props,t=e.disableHistory,a=e.timeSlot,n=e.openHours,i=e.onTimeClick,s=e.bookings,l=e.startTime,r=e.endTime,c=e.clickable,o=this.state,m=o.selectedDate,u=o.timeSelect;return d.a.createElement("div",{className:"calendar"},d.a.createElement(p,{selectedDate:u?h.a.format(m,"dddd Do MMMM"):h.a.format(m,"MMMM YYYY"),nextTime:this.nextTime,prevTime:this.prevTime,timeSelect:u}),u?d.a.createElement(d.a.Fragment,null,d.a.createElement(g,{selectedDate:m,disableHistory:t,timeSlot:a,openHours:n,onTimeClick:i,bookings:s,startTime:l,endTime:r})):d.a.createElement(d.a.Fragment,null,d.a.createElement(D,{selectedDate:m,disableHistory:t,onDateClick:this.onDateClick,clickable:c,startTime:l,endTime:r})),a&&n&&d.a.createElement("button",{className:"timeSelector",onClick:this.timeSelectToggle,type:"button"},d.a.createElement("p",null,u?"Select Day":"Select Time")))}}]),t}(o.PureComponent);E.defaultProps={bookings:[],disableHistory:!0,clickable:!0,timeSlot:30,onDateFunction:null,onTimeClick:null,startTime:null,endTime:null,openHours:[[9.5,15],[9,23.5]]};var H=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={startTime:"",endTime:"",bookings:[{id:1,start_time:"2020-03-27 13:00:00",end_time:"2020-03-27 13:30:00"},{id:2,start_time:"2020-03-27 14:00:00",end_time:"2020-03-27 15:30:00"}]},a.handleTimeClick=a.handleTimeClick.bind(Object(c.a)(Object(c.a)(a))),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"handleTimeClick",value:function(e){var t=this;""===this.state.startTime?this.setState({startTime:e}):(!h.a.isSameDay(this.state.startTime,e)||e<this.state.startTime)&&this.setState({startTime:"",endTime:""});var a=!1;e>this.state.startTime&&this.state.bookings.map(function(n){return h.a.isWithinRange(n.start_time,t.state.startTime,e)||h.a.isWithinRange(h.a.subMinutes(n.end_time,1),t.state.startTime,e)?a=!0:""}),a||this.setState({endTime:e})}},{key:"render",value:function(){var e=window.innerWidth>1023?{width:"55%"}:{width:"100%"};return d.a.createElement("div",{style:e},d.a.createElement(E,{disableHistory:!0,clickable:!0,timeSlot:30,startTime:this.state.startTime,endTime:this.state.endTime,openHours:[[9.5,15],[9,23.5]],onTimeClick:this.handleTimeClick,bookings:this.state.bookings}))}}]),t}(d.a.Component);t.default=H;u.a.render(d.a.createElement(H,null),document.getElementById("root"))},68:function(e,t,a){e.exports=a(177)}},[[68,1,2]]]);
//# sourceMappingURL=main.6cba038c.chunk.js.map
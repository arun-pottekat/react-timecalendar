(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var s=a(4),i=a(5),n=a(7),r=a(6),o=a(8),l=a(3),c=a(1),d=a.n(c),m=a(66),u=a.n(m),h=a(2),p=a.n(h),b={selectedDate:new Date,prevMonth:null,nextMonth:null};function k(e){return d.a.createElement("div",{className:"header row flex-middle"},d.a.createElement("div",{className:"col col-start"},d.a.createElement("div",{className:"icon",onClick:e.prevMonth},"chevron_left")),d.a.createElement("div",{className:"col col-center"},d.a.createElement("span",null,e.selectedDate)),d.a.createElement("div",{className:"col col-end",onClick:e.nextMonth},d.a.createElement("div",{className:"icon"},"chevron_right")))}k.defaultProps=b;var f=k,v=a(67),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={dateFormat:"ddd"},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({dateFormat:this.refs.dayTitles.parentNode.clientWidth>767?"dddd":"ddd"})}},{key:"render",value:function(){var e=this,t=[],a=p.a.startOfWeek(this.props.currentMonth);return Object(v.a)(Array(7)).map(function(s,i){return t.push(d.a.createElement("div",{className:"col col-center",key:i},p.a.format(p.a.addDays(a,i),e.state.dateFormat)))}),d.a.createElement("div",{className:"days row",ref:"dayTitles"},t)}}]),t}(d.a.Component);O.defaultProps={currentMonth:null};function T(e){return d.a.createElement("div",{className:"col cell"+e.classSet,onClick:e.onDateClick},d.a.createElement("span",{className:"number"},e.date),d.a.createElement("span",{className:"bg"},e.date))}T.defaultProps={classSet:"",date:1,onDateClick:null};var D=T,y=function(e){function t(){return Object(s.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.selectedDate,a=p.a.startOfMonth(t),s=p.a.startOfWeek(a),i=p.a.endOfWeek(p.a.endOfMonth(a)),n=[],r=[],o=s;o<=i;){for(var l=function(a){var s="";s+=" "+p.a.format(o,"ddd"),s+=p.a.isToday(o)?" today":"",s+=p.a.isSameMonth(o,t)?"":" disabled",s+=p.a.isSameDay(o,t)?" selected":"",s+=e.props.clickable?"":" disabled",s+=p.a.isWithinRange(o,e.props.startTime,e.props.endTime)?" selected":"",e.props.disableHistory&&(s+=p.a.isBefore(o,p.a.endOfYesterday())?" disabled":"");var i=o;r.push(d.a.createElement(D,{classSet:s,key:o,date:p.a.format(o,"D"),onDateClick:function(){return e.props.onDateClick(i)}})),o=p.a.addDays(o,1)},c=0;c<7;c++)l();n.push(d.a.createElement("div",{className:"row",key:o},r)),r=[]}return d.a.createElement("div",{className:"body"},d.a.createElement(O,{currentMonth:this.props.selectedDate}),n)}}]),t}(c.PureComponent);y.defaultProps={selectedDate:null,onDateClick:null,clickable:!0,bookings:[]};function j(e){return d.a.createElement("div",{className:"col cell"+e.classSet,onClick:e.onTimeClick},d.a.createElement("p",null,e.time))}j.defaultProps={classSet:"",time:-18,onTimeClick:null};var C=j,S={selectedDate:new Date,timeSlot:30,onTimeClick:null,bookings:["05-10-19","02-04-19"]},g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={selectorClass:"inactive"},a.selectorClick=a.selectorClick.bind(Object(l.a)(Object(l.a)(a))),a.generateOpenHours=a.generateOpenHours.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"selectorClick",value:function(){this.setState({selectorClass:"inactive"===this.state.selectorClass?"active":"inactive"})}},{key:"generateOpenHours",value:function(){var e=[],t=this.props.openHours,a=p.a.startOfDay(this.props.selectedDate),s=parseInt(p.a.format(this.props.selectedDate,"d"));return 1===t.length?(e[0]=p.a.addHours(a,t[0][0]),e[1]=p.a.addHours(a,t[0][1])):2===t.length?0===s||6===s?(e[0]=p.a.addHours(a,t[1][0]),e[1]=p.a.addHours(a,t[1][1])):(e[0]=p.a.addHours(a,t[0][0]),e[1]=p.a.addHours(a,t[0][1])):7===t.length&&(e[0]=p.a.addHours(a,t[s][0]),e[1]=p.a.addHours(a,t[s][1])),e}},{key:"render",value:function(){for(var e=this,t=this.props.timeSlot,a=[],s=this.generateOpenHours(),i=[],n=s[0],r=p.a.differenceInMinutes(s[1],s[0])/t%4;n<p.a.addMinutes(s[1],t*r);){for(var o=function(t){var a=void 0;a+=p.a.isBefore(n,s[1])?"":" disabled",a+=p.a.isWithinRange(n,e.props.startTime,e.props.endTime)?" selectedTime":"",e.props.disableHistory&&(a+=p.a.isBefore(n,new Date)?" disabled":""),e.props.bookings.map(function(e){return a+=p.a.isWithinRange(n,e.start_time,p.a.subMinutes(e.end_time,1))?" disabled":""});var r=n;i.push(d.a.createElement(C,{key:r,time:p.a.format(r,"HH-mm"),classSet:a,onTimeClick:function(){return e.props.onTimeClick(r)}})),n=p.a.addMinutes(n,30)},l=0;l<4;l++)o();a.push(d.a.createElement("div",{className:"row",key:n},i)),i=[]}return d.a.createElement("div",{className:"timeSelector"},d.a.createElement("div",{className:"optionSpacer body"},d.a.createElement("div",{className:"optionHolder "+this.state.selectorClass},a)))}}]),t}(c.PureComponent);g.defaultProps=S;a(176);var E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={selectedDate:new Date,timeSelect:!1},a.onDateClick=a.onDateClick.bind(Object(l.a)(Object(l.a)(a))),a.nextMonth=a.nextMonth.bind(Object(l.a)(Object(l.a)(a))),a.prevMonth=a.prevMonth.bind(Object(l.a)(Object(l.a)(a))),a.timeSelectToggle=a.timeSelectToggle.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"onDateClick",value:function(e){this.setState({selectedDate:e}),this.props.onDateFunction&&this.props.onDateFunction(e)}},{key:"nextMonth",value:function(){this.setState({selectedDate:p.a.addMonths(this.state.selectedDate,1)})}},{key:"prevMonth",value:function(){this.props.disableHistory&&p.a.isPast(p.a.startOfMonth(this.state.selectedDate))||this.setState({selectedDate:p.a.subMonths(this.state.selectedDate,1)})}},{key:"timeSelectToggle",value:function(){this.setState({timeSelect:!this.state.timeSelect})}},{key:"render",value:function(){return d.a.createElement("div",{className:"calendar"},d.a.createElement(f,{selectedDate:p.a.format(this.state.selectedDate,"MMMM YYYY"),nextMonth:this.nextMonth,prevMonth:this.prevMonth}),this.state.timeSelect?d.a.createElement(d.a.Fragment,null,d.a.createElement(g,{selectedDate:this.state.selectedDate,disableHistory:this.props.disableHistory,timeSlot:this.props.timeSlot,openHours:this.props.openHours,onTimeClick:this.props.onTimeClick,bookings:this.props.bookings,startTime:this.props.startTime,endTime:this.props.endTime})):d.a.createElement(d.a.Fragment,null,d.a.createElement(y,{selectedDate:this.state.selectedDate,disableHistory:this.props.disableHistory,onDateClick:this.onDateClick,clickable:this.props.clickable,bookings:this.props.bookings,startTime:this.props.startTime,endTime:this.props.endTime})),this.props.timeSlot&&this.props.openHours?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"timeSelector"},d.a.createElement("p",{onClick:this.timeSelectToggle},this.state.timeSelect?"Select Day":"Select Time"," "))):"")}}]),t}(c.PureComponent);E.defaultProps={bookings:[],disableHistory:!0,clickable:!0,timeSlot:30,onDateFunction:null,onTimeClick:null};var M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(n.a)(this,Object(r.a)(t).call(this,e))).state={startTime:"",endTime:"",bookings:[{id:1,start_time:"2019-03-27 13:00:00",end_time:"2019-03-27 13:30:00"},{id:2,start_time:"2019-03-27 07:00:00",end_time:"2019-03-27 07:30:00"}]},a.handleTimeClick=a.handleTimeClick.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"handleTimeClick",value:function(e){var t=this;""===this.state.startTime?this.setState({startTime:e}):(!p.a.isSameDay(this.state.startTime,e)||e<this.state.startTime)&&this.setState({startTime:"",endTime:""});var a=!1;e>this.state.startTime&&this.state.bookings.map(function(s){return p.a.isWithinRange(s.start_time,t.state.startTime,e)||p.a.isWithinRange(p.a.subMinutes(s.end_time,1),t.state.startTime,e)?a=!0:""}),a||this.setState({endTime:e})}},{key:"render",value:function(){var e=window.innerWidth>1023?{width:"40%"}:{width:"100%"};return d.a.createElement("div",{style:e},d.a.createElement(E,{disableHistory:!0,clickable:!0,timeSlot:30,startTime:this.state.startTime,endTime:this.state.endTime,openHours:[[9.5,15],[9,23.5],[8,16],[8.5,18],[10,10],[0,0],[9,17]],onTimeClick:this.handleTimeClick,bookings:this.state.bookings}))}}]),t}(d.a.Component);t.default=M;u.a.render(d.a.createElement(M,null),document.getElementById("root"))},68:function(e,t,a){e.exports=a(177)}},[[68,1,2]]]);
//# sourceMappingURL=main.58b5bff5.chunk.js.map